apiVersion: karpenter.sh/v1beta1
kind: NodePool
metadata:
  name: good-pool
spec:
  nodeClassRef:
    name: shared-class
---
apiVersion: karpenter.sh/v1beta1
kind: NodePool
metadata:
  name: missing-class-pool
spec:
  nodeClassRef:
    name: missing-class
---
apiVersion: karpenter.sh/v1beta1
kind: NodePool
metadata:
  name: no-ref-pool
spec:
  template:
    spec: {}
---
apiVersion: karpenter.k8s.aws/v1beta1
kind: EC2NodeClass
metadata:
  name: shared-class
spec:
  amiSelectorTerms:
    - id: "ami-0123456789abcdef0"
  subnetSelectorTerms:
    - tags:
        Name: "private-a"
  securityGroupSelectorTerms:
    - tags:
        Name: "eks-nodes"
  instanceProfile: "node-profile"
